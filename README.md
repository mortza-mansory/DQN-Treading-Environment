# ๐ Deep Q-Network (DQN) Trading Visualizer

ูุฏู **Deep Q-Network (DQN)** ฺฉ ุฑูุด **ุงุฏฺฏุฑ ุชููุช (Reinforcement Learning)** ุงุณุช ฺฉู ุงุฒ ุดุจฺฉูโูุง ุนุตุจ ุนูู ุจุฑุง ุชุฎูู ุชุงุจุน ุงุฑุฒุด-ุนูู (Q-Function) ุงุณุชูุงุฏู ูโฺฉูุฏ.  
ุงู ูพุฑูฺู ุจุง ุงุณุชูุงุฏู ุงุฒ DQN ุงุณุชุฑุงุชฺโูุง ูุนุงููุงุช **ุฎุฑุฏุ ูุฑูุด ู ูฺฏูุฏุงุฑ** ุฑุง ุฏุฑ ฺฉ ูุญุท ูุนุงููุงุช ุจุฑ ุงุณุงุณ ุฏุงุฏูโูุง ููุช ูุงุชโฺฉูู ุงุฏ ูโฺฏุฑุฏ.

---

## ๐ ููุทู ุนููฺฉุฑุฏ DQN

### ๐ ูุญุท ู ุญุงูุชโูุง (Environment & States)
- ูุญุท ูุนุงููุงุช `TradingEnvXY` ุดุงูู ุฏุงุฏูโูุง ููุช (OHLCV) ุงุฒ ูุงู **litecoin.xlsx** ุงุณุช.  
- ุญุงูุชโูุง (States) ุดุงูู ุฏุงุฏูโูุง ูุฑูุงูโุณุงุฒโุดุฏู ุจุง **z-score** ูโุจุงุดูุฏ.

### ๐ฎ ุงูุฏุงูุงุช (Actions)
- **ูฺฏูุฏุงุฑ (0)** โ Hold  
- **ุฎุฑุฏ (1)** โ Buy  
- **ูุฑูุด (2)** โ Sell  

ุงูุฏุงู ุงูุชุฎุงุจโุดุฏู ุชูุณุท ุดุจฺฉู Q ุงุฒ ูุณุช `DISCRETE_ACTIONS` ุงุณุชุฎุฑุงุฌ ูโุดูุฏ.

### ๐ฐ ูพุงุฏุงุด (Reward)
- ูุญุงุณุจู ุจุฑ ุงุณุงุณ ุจุงุฒุฏู ูฺฏุงุฑุชู (**log-return**)  
- ุงุตูุงุญโุดุฏู ุจุง ุชุงุจุน ูุฏุฑุช ุณุฑูุงู `money_management`  
- ูพุงุฏุงุด ุงุถุงู ุจุฑ ุงุณุงุณ:
  - ุตุญุช ูพุดโุจู (ยฑ1% ุชุบุฑ ููุช)  
  - ุณุทุญ ุฑุณฺฉ ุงูุชุฎุงุจโุดุฏู (Risk Level)  
- ูุชุฌู: ุณูุฏ = ูพุงุฏุงุด ูุซุจุช โ | ุฒุงู = ูพุงุฏุงุด ููู โ

### ๐ง ุชุงุจุน Q ู ุงุฏฺฏุฑ
- ุดุจฺฉู Q (**QNetwork**) ููุงุฏุฑ Q ุฑุง ุจุฑุง ูุฑ ุงูุฏุงู ูพุดโุจู ูโฺฉูุฏ.  
- ุงูฺฏูุฑุชู **Experience Replay**:
  - ุฐุฎุฑู `(state, action, reward, next_state, done)` ุฏุฑ ุญุงูุธู (deque)  
  - ุขููุฒุด ุจุง ูููููโฺฏุฑ ุชุตุงุฏู ุงุฒ ุญุงูุธู  
- ุงุณุชูุงุฏู ุงุฒ **Target Network** ุจุฑุง ูพุงุฏุงุฑ ุงุฏฺฏุฑ  
- ุจูโุฑูุฒุฑุณุงู ุฏูุฑูโุง ุจุง `update_target_model`

### ๐ฒ ุงุณุชุฑุงุชฺ ุงฺฉุชุดุงู-ุจูุฑูโุจุฑุฏุงุฑ (Exploration vs Exploitation)
- ุงูฺฏูุฑุชู **Epsilon-Greedy**:  
  - ุจุง ุงุญุชูุงู `ฮต` โ ุงูุฏุงู ุชุตุงุฏู (ุงฺฉุชุดุงู)  
  - ุฏุฑ ุบุฑ ุงู ุตูุฑุช โ ุจูุชุฑู ุงูุฏุงู ุจุฑ ุงุณุงุณ Q (ุจูุฑูโุจุฑุฏุงุฑ)  
- `ฮต` ุจุง ูุฑุฎ `epsilon_decay` ฺฉุงูุด ูโุงุจุฏ ุชุง ุจู `epsilon_min` ุจุฑุณุฏ.

### โ๏ธ ุจูโุฑูุฒุฑุณุงู ูุฏู
- ุชุงุจุน ุฒุงู: **MSE (Mean Squared Error)**  
- ุจูููโุณุงุฒ: **Adam**  
- ูุฑููู ุจูโุฑูุฒุฑุณุงู:  
target = reward + gamma * max(Q(next_state))
---

## ๐ฅ๏ธ ูฺฺฏโูุง ูุญุตูู (Trading Visualizer)

### ๐๏ธ ุฑุงุจุท ฺฉุงุฑุจุฑ (UI)
- ุณุงุฎุชูโุดุฏู ุจุง **Flet**  
- ุดุงูู:
- ุฏฺฉููโูุง **ุดุฑูุนุ ุชูููุ ูฺฉุซ**
- ุงูุชุฎุงุจ ูุฏู ู ูพุงุฑุงูุชุฑูุง
- ููุงุด ูุงฺฏโูุง ู ูุนุงุฑูุง ุฏุฑ ุฒูุงู ูุงูุน  

### ๐ ููุงุด ูุนุงุฑูุง (Metrics)
- ุชุนุฏุงุฏ ุฎุฑุฏุ ูุฑูุดุ ูฺฏูุฏุงุฑ  
- ุณูุฏ ู ุฏุฑุตุฏ ููููุช  
- ููุฌูุฏ ฺฉู ูพูู ู ุฏุงุฑุงโูุง  
- ูุนุงููุงุช ูููู/ูุงูููู  

### ๐ ูููุฏุงุฑูุง
- **Chart All** โ ููุงุด ฺฉู ููุช ูุงูุน  
- **Dynamic Chart** โ ููุงุณู ููุช ูพุดโุจูโุดุฏู ู ูุงูุน (ูพูุฌุฑู ูุชุญุฑฺฉ)  
- **Prediction Chart** โ ููุงุด ูพุดโุจู ููุช ุฏุฑ ฺฉู ุจุงุฒู  

### ๐ก ูุฏุฑุช ุฑุณฺฉ
- ุงูุชุฎุงุจ ุณุทุญ ุฑุณฺฉ: ุฎู ูพุงู โฌโก ุฎู ุจุงูุง  
- ูุฏุฑุช ุณุฑูุงู ุจุฑ ุงุณุงุณ `money_management`  
- ุฏุฑ ูุธุฑ ฺฏุฑูุชู ูุฒููโูุง ุชุฑุงฺฉูุด (ุงุณูพุฑุฏ + ฺฉุงุฑูุฒุฏ)

### โ๏ธ ุชูุธูุงุช ุงุฏฺฏุฑ
- ูพุงุฑุงูุชุฑูุง ูุงุจู ุชูุธู:  
- `gamma`, `epsilon`, `learning_rate`, `batch_size`  
- ุฐุฎุฑู ุฏุฑ **learning_settings.json**

### ๐พ ุฐุฎุฑู ู ุจุงุฑฺฏุฐุงุฑ ูุฏู
- ุฐุฎุฑู ุฎูุฏฺฉุงุฑ ูุฏู ุฏุฑ: **dqn_model_auto_save.pt**  
- ุงูฺฉุงู ุจุงุฑฺฏุฐุงุฑ ู ุชุณุช ูุฏูโูุง ูุจู  
- ุฎุฑูุฌ ุชุณุช ุดุงูู ูููุฏุงุฑูุง + ูุงฺฏโูุง ุฏุฑ ูพูุดู ูุฌุฒุง

### ๐ ุงุฏุฏุงุดุชโูุง ู ุฏุฑุณโูุง ุขููุฎุชูโุดุฏู
- **AI Notes** โ ุชุญูู ุงูุฏุงูุงุช ู ูพุงุฏุงุดโูุง  
- **Lessons Learned** โ ุจุงุฒุฎูุฑุฏ ูุนุงููุงุช ูููู/ูุงูููู  

---

## ๐ ูุฑุขูุฏ ุงุฏฺฏุฑ DQN

1. **ุดุฑูุน ุขููุฒุด**  
 - ุฏุงุฏูโูุง ูุฑูุงูโุณุงุฒโุดุฏู ุงุฒ litecoin.xlsx  
 - ุดุฑูุน ุงุฒ ุชุงุฑุฎ ูุดุฎุต (ูุซูุงู `2024-01-01` ุชุง `2025-01-01`)

2. **ุงูุชุฎุงุจ ุงูุฏุงู**  
 - ุชุตุงุฏู (ุงฺฉุชุดุงู) ุง ุจูุชุฑู Q (ุจูุฑูโุจุฑุฏุงุฑ)  
 - ุงูุฏุงูุงุช: ุฎุฑุฏุ ูุฑูุดุ ูฺฏูุฏุงุฑ

3. **ูุญุงุณุจู ูพุงุฏุงุด**  
 - ุจุฑ ุงุณุงุณ log-return  
 - ุตุญุญ ุจูุฏู ูพุดโุจู (ยฑ1%)  
 - ุงุตูุงุญ ุชูุณุท `money_management`

4. **ุฐุฎุฑู ุชุฌุฑุจู**  
 - `(state, action, reward, next_state, done)` โ ุญุงูุธู ุนุงูู

5. **ุจุงุฒูพุฎุด ุชุฌุฑุจู (Replay)**  
 - ูููููโฺฏุฑ ุชุตุงุฏู ุงุฒ ุญุงูุธู  
 - ุขููุฒุด ุจุง MSE ู ูุฏู Q  
 - ุจูโุฑูุฒุฑุณุงู ุฏูุฑูโุง ุดุจฺฉู ูุฏู

6. **ุจูโุฑูุฒุฑุณุงู Epsilon**  
 - ฺฉุงูุด ุชุฏุฑุฌ `ฮต` โ ุญุฑฺฉุช ุจู ุณูุช ุจูุฑูโุจุฑุฏุงุฑ

7. **ูุธุงุฑุช ู ุจุงุฒุฎูุฑุฏ**  
 - ููุงุด ุณูุฏุ ุฏุฑุตุฏ ููููุชุ ูุนุงููุงุช  
 - ุซุจุช AI Notes ู Lessons Learned  

8. **ุชููู ู ุฐุฎุฑู**  
 - ุชููู ุฏุณุช ุง ุฎูุฏฺฉุงุฑ (ุงุชูุงู ุฏุงุฏูโูุง / ูุฑุดฺฉุณุชฺฏ)  
 - ุฐุฎุฑู ูุฏู ููุง ุจุฑุง ุชุณุชโูุง ุจุนุฏ  

---

## ๐ ุฎูุงุตู
ุงู ูพุฑูฺู ฺฉ ุณุณุชู ูุนุงููุงุช ูุจุชู ุจุฑ **DQN ู ุดุจฺฉู ุนุตุจ ุนูู** ุงุณุช ฺฉู:  
- ุงุฒ ุฏุงุฏูโูุง ููุช ูุงุชโฺฉูู ุจุฑุง ุงุฏฺฏุฑ ูุนุงููุงุช ุงุณุชูุงุฏู ูโฺฉูุฏ.  
- ุฏุงุฑุง ุฑุงุจุท ฺฉุงุฑุจุฑ ุชุนุงูู ุจุง **ูููุฏุงุฑูุงุ ูุนุงุฑูุง ู ูุฏุฑุช ุฑุณฺฉ** ุงุณุช.  
- ุงูฺฉุงู ุชูุธู ูพุงุฑุงูุชุฑูุงุ ุฐุฎุฑู ู ุจุงุฑฺฏุฐุงุฑ ูุฏูโูุง ุฑุง ูุฑุงูู ูโฺฉูุฏ.  
- ุจุง ุชุฑฺฉุจ ุงฺฉุชุดุงู ู ุจูุฑูโุจุฑุฏุงุฑุ ุชุฌุฑุจูโูุง ู ุจุงุฒูพุฎุด ุขูโูุงุ ุจู ุงุณุชุฑุงุชฺโูุง ุจููู ูุนุงููุงุช ูโุฑุณุฏ.  

---

